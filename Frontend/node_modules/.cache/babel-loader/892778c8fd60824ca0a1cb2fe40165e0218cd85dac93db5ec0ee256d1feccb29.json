{"ast":null,"code":"var _jsxFileName = \"E:\\\\Descargas\\\\Nueva carpeta\\\\Proyecto Desarrollo 1 - copia\\\\Frontend\\\\src\\\\formularios\\\\RegistroDiscapacitados.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport BotonesModoOscuroVolver from '../components/BotonesModoOscuroVolver';\nimport { verificarCorreo } from '../utils/verificarCorreo';\nimport '../styles/light.css';\nimport '../styles/dark.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FormularioDiscapacitados() {\n  _s();\n  const [formData, setFormData] = useState({\n    nombre: '',\n    apellido: '',\n    correo: '',\n    password: '',\n    confirmPassword: '',\n    discapacidad: '',\n    descripcion: ''\n  });\n  const [modoOscuro, setModoOscuro] = useState(false);\n  const [correoExistente, setCorreoExistente] = useState(false);\n  const [validandoCorreo, setValidandoCorreo] = useState(false);\n  const [pasoActual, setPasoActual] = useState('inicio');\n  const [reconocimientoActivo, setReconocimientoActivo] = useState(false);\n  const [mensajeEnviado, setMensajeEnviado] = useState(false);\n  const [repetirTimer, setRepetirTimer] = useState(null);\n  const [cargando, setCargando] = useState(false);\n  const navigate = useNavigate();\n  const recognitionRef = useRef(null);\n  const nombreRef = useRef(null);\n  const apellidoRef = useRef(null);\n  const correoRef = useRef(null);\n  const passwordRef = useRef(null);\n  const confirmPasswordRef = useRef(null);\n  const discapacidadRef = useRef(null);\n  const descripcionRef = useRef(null);\n  useEffect(() => {\n    document.body.classList.toggle('dark', modoOscuro);\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.lang = 'es-ES';\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.onresult = event => {\n        if (!event.results || !event.results[0]) return;\n        const resultado = event.results[0][0].transcript.trim().toLowerCase();\n        console.log(\"Texto reconocido:\", resultado);\n        manejarResultadoVoz(resultado);\n      };\n      recognition.onerror = event => {\n        console.error('Error en reconocimiento:', event.error);\n        hablar('Hubo un error con el micrófono. Por favor intenta nuevamente.');\n      };\n      recognitionRef.current = recognition;\n    }\n    iniciarPaso('inicio');\n    return () => {\n      if (repetirTimer) clearTimeout(repetirTimer);\n      if (recognitionRef.current) recognitionRef.current.abort();\n    };\n  }, [modoOscuro]);\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (formData.correo) {\n        verificarCorreo(formData.correo, setCorreoExistente, setValidandoCorreo);\n      }\n    }, 500);\n    return () => clearTimeout(timer);\n  }, [formData.correo]);\n\n  // Función hablar mejorada\n  const hablar = (texto, callback) => {\n    if (cargando) return;\n\n    // Detener reconocimiento actual y limpiar temporizadores\n    setReconocimientoActivo(false);\n    if (recognitionRef.current) recognitionRef.current.abort();\n    if (repetirTimer) clearTimeout(repetirTimer);\n    setCargando(true);\n    const mensaje = new SpeechSynthesisUtterance(texto);\n    mensaje.lang = 'es-ES';\n    mensaje.onend = () => {\n      setCargando(false);\n\n      // Ejecutar callback si existe\n      if (callback) callback();\n\n      // Esperar antes de reactivar el reconocimiento\n      setTimeout(() => {\n        if (pasoActual !== 'registrar') {\n          // Solo activar si no estamos en el último paso\n          setReconocimientoActivo(true);\n          iniciarReconocimiento();\n        }\n      }, 1000);\n\n      // Configurar temporizador para repetir\n      setRepetirTimer(setTimeout(() => {\n        if (reconocimientoActivo && pasoActual !== 'registrar') {\n          hablar(texto, callback);\n        }\n      }, 10000));\n    };\n    window.speechSynthesis.cancel();\n    window.speechSynthesis.speak(mensaje);\n  };\n  const iniciarPaso = paso => {\n    var _apellidoRef$current, _correoRef$current, _passwordRef$current, _discapacidadRef$curr, _descripcionRef$curre;\n    setPasoActual(paso);\n\n    // Enfocar el campo correspondiente al paso actual\n    switch (paso) {\n      case 'inicio':\n        hablar('Este es el formulario de registro para discapacitados visuales. Por favor, di tu nombre.');\n        break;\n      case 'apellido':\n        hablar('Ahora por favor, di tu apellido.');\n        (_apellidoRef$current = apellidoRef.current) === null || _apellidoRef$current === void 0 ? void 0 : _apellidoRef$current.focus();\n        break;\n      case 'correo':\n        hablar('Ahora indica tu correo electrónico. Di tu correo reemplazando el arroba por la palabra arroba.');\n        (_correoRef$current = correoRef.current) === null || _correoRef$current === void 0 ? void 0 : _correoRef$current.focus();\n        break;\n      case 'password':\n        hablar('Ahora indica tu contraseña. Debe tener al menos 6 caracteres.');\n        (_passwordRef$current = passwordRef.current) === null || _passwordRef$current === void 0 ? void 0 : _passwordRef$current.focus();\n        break;\n      case 'discapacidad':\n        hablar('Por favor, di el tipo de discapacidad visual que tienes. Opciones: ceguera total, baja visión, visión borrosa o fotofobia.');\n        (_discapacidadRef$curr = discapacidadRef.current) === null || _discapacidadRef$curr === void 0 ? void 0 : _discapacidadRef$curr.focus();\n        break;\n      case 'descripcion':\n        hablar('¿Deseas agregar una descripción adicional? Di no si no es necesario.');\n        (_descripcionRef$curre = descripcionRef.current) === null || _descripcionRef$curre === void 0 ? void 0 : _descripcionRef$curre.focus();\n        break;\n      case 'registrar':\n        hablar('Registrando tu información.');\n        manejarEnvioFormulario();\n        break;\n      default:\n        break;\n    }\n  };\n  const manejarResultadoVoz = resultado => {\n    // Verificar si el reconocimiento está activo para evitar procesamiento duplicado\n    if (!reconocimientoActivo) return;\n    console.log(\"Procesando resultado:\", resultado);\n    switch (pasoActual) {\n      case 'inicio':\n        setFormData(prev => ({\n          ...prev,\n          nombre: resultado\n        }));\n        // Usar setTimeout para dar tiempo al DOM a actualizarse\n        setTimeout(() => {\n          var _nombreRef$current;\n          (_nombreRef$current = nombreRef.current) === null || _nombreRef$current === void 0 ? void 0 : _nombreRef$current.blur(); // Quitar foco del campo actual\n          iniciarPaso('apellido');\n        }, 300);\n        break;\n      case 'apellido':\n        setFormData(prev => ({\n          ...prev,\n          apellido: resultado\n        }));\n        setTimeout(() => {\n          var _apellidoRef$current2;\n          (_apellidoRef$current2 = apellidoRef.current) === null || _apellidoRef$current2 === void 0 ? void 0 : _apellidoRef$current2.blur();\n          iniciarPaso('correo');\n        }, 300);\n        break;\n      case 'correo':\n        const correoFormateado = resultado.replace(/arroba|aroba|arrova/gi, '@').replace(/\\s/g, '').toLowerCase();\n        setFormData(prev => ({\n          ...prev,\n          correo: correoFormateado\n        }));\n        setTimeout(() => {\n          var _correoRef$current2;\n          (_correoRef$current2 = correoRef.current) === null || _correoRef$current2 === void 0 ? void 0 : _correoRef$current2.blur();\n          iniciarPaso('password');\n        }, 300);\n        break;\n      case 'password':\n        setFormData(prev => ({\n          ...prev,\n          password: resultado,\n          confirmPassword: resultado\n        }));\n        setTimeout(() => {\n          var _passwordRef$current2;\n          (_passwordRef$current2 = passwordRef.current) === null || _passwordRef$current2 === void 0 ? void 0 : _passwordRef$current2.blur();\n          iniciarPaso('discapacidad');\n        }, 300);\n        break;\n      case 'discapacidad':\n        const discapacidadReconocida = ['ceguera total', 'baja visión', 'visión borrosa', 'fotofobia'].find(opcion => resultado.includes(opcion.toLowerCase()));\n        if (discapacidadReconocida) {\n          setFormData(prev => ({\n            ...prev,\n            discapacidad: discapacidadReconocida\n          }));\n          setTimeout(() => {\n            var _discapacidadRef$curr2;\n            (_discapacidadRef$curr2 = discapacidadRef.current) === null || _discapacidadRef$curr2 === void 0 ? void 0 : _discapacidadRef$curr2.blur();\n            iniciarPaso('descripcion');\n          }, 300);\n        } else {\n          hablar('No reconocí ese tipo de discapacidad. Por favor di: ceguera total, baja visión, visión borrosa o fotofobia.');\n          // Volver a intentar con el mismo paso\n          setTimeout(() => iniciarPaso('discapacidad'), 1000);\n        }\n        break;\n      case 'descripcion':\n        if (['no', 'ninguna', 'nada', 'omitir', 'saltar'].includes(resultado.toLowerCase())) {\n          setFormData(prev => ({\n            ...prev,\n            descripcion: ''\n          }));\n          setTimeout(() => {\n            var _descripcionRef$curre2;\n            (_descripcionRef$curre2 = descripcionRef.current) === null || _descripcionRef$curre2 === void 0 ? void 0 : _descripcionRef$curre2.blur();\n            iniciarPaso('registrar');\n          }, 300);\n        } else {\n          setFormData(prev => ({\n            ...prev,\n            descripcion: resultado\n          }));\n          setTimeout(() => {\n            var _descripcionRef$curre3;\n            (_descripcionRef$curre3 = descripcionRef.current) === null || _descripcionRef$curre3 === void 0 ? void 0 : _descripcionRef$curre3.blur();\n            iniciarPaso('registrar');\n          }, 300);\n        }\n        break;\n      default:\n        console.warn('Paso no reconocido:', pasoActual);\n        break;\n    }\n  };\n  const iniciarReconocimiento = () => {\n    if (cargando || !recognitionRef.current) return;\n    try {\n      // Limpiar reconocimiento anterior\n      recognitionRef.current.abort();\n\n      // Configurar nuevos manejadores\n      recognitionRef.current.onresult = event => {\n        if (!event.results || !event.results[0]) return;\n        const resultado = event.results[0][0].transcript.trim().toLowerCase();\n        manejarResultadoVoz(resultado);\n      };\n      recognitionRef.current.onerror = event => {\n        console.error('Error en reconocimiento:', event.error);\n        if (event.error !== 'aborted') {\n          hablar('Hubo un error con el micrófono. Por favor intenta nuevamente.');\n        }\n      };\n      recognitionRef.current.start();\n      console.log(\"Reconocimiento iniciado para paso:\", pasoActual);\n    } catch (error) {\n      console.error(\"Error al iniciar reconocimiento:\", error);\n      if (error !== 'aborted') {\n        hablar(\"Hubo un error con el micrófono. Por favor, intenta nuevamente.\");\n      }\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const manejarEnvioFormulario = async () => {\n    if (correoExistente) {\n      hablar('Este correo ya está registrado. Intenta con otro.', () => iniciarPaso('correo'));\n      return;\n    }\n    if (formData.password.length < 6) {\n      hablar('La contraseña debe tener al menos 6 caracteres.', () => iniciarPaso('password'));\n      return;\n    }\n    if (formData.password !== formData.confirmPassword) {\n      hablar('Las contraseñas no coinciden.', () => iniciarPaso('password'));\n      return;\n    }\n    if (!formData.discapacidad) {\n      hablar('Debes seleccionar un tipo de discapacidad.', () => iniciarPaso('discapacidad'));\n      return;\n    }\n    try {\n      const res = await fetch('http://localhost:4000/api/RegistroDiscapacitados', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      if (res.ok) {\n        setMensajeEnviado(true);\n        hablar('¡Registro exitoso! Serás redirigido al inicio de sesión.', () => navigate('/login'));\n      } else {\n        const errorData = await res.json();\n        hablar(`Error al registrar: ${errorData.message || 'Intenta más tarde'}`);\n      }\n    } catch (err) {\n      console.error('Error:', err);\n      hablar('Ocurrió un error al conectar con el servidor. Intenta más tarde.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(BotonesModoOscuroVolver, {\n      modoOscuro: modoOscuro,\n      setModoOscuro: setModoOscuro\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contenedor-microfono\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-label\": \"Activar micr\\xF3fono para dictar informaci\\xF3n\",\n        \"aria-describedby\": \"instruccion-mic\",\n        onClick: iniciarReconocimiento,\n        disabled: cargando,\n        className: `boton-microfono ${reconocimientoActivo ? 'activo' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: reconocimientoActivo ? \"https://cdn-icons-png.flaticon.com/512/4712/4712035.png\" : \"https://cdn-icons-png.flaticon.com/512/4712/4712109.png\",\n          alt: reconocimientoActivo ? \"Micrófono activo\" : \"Micrófono inactivo\",\n          className: \"icono-microfono\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        id: \"instruccion-mic\",\n        hidden: true,\n        children: \"Presiona este bot\\xF3n para activar el micr\\xF3fono. Luego, sigue las instrucciones habladas.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), cargando && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cargando-voz\",\n        children: \"Procesando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"registro-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Formulario de Registro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"nombre\",\n          children: \"Nombre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: nombreRef,\n          type: \"text\",\n          id: \"nombre\",\n          name: \"nombre\",\n          value: formData.nombre,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"apellido\",\n          children: \"Apellido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: apellidoRef,\n          type: \"text\",\n          id: \"apellido\",\n          name: \"apellido\",\n          value: formData.apellido,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"correo\",\n          children: [\"Correo electr\\xF3nico:\", correoExistente && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"correo-registrado\",\n            children: \" * Este correo ya est\\xE1 registrado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 33\n          }, this), validandoCorreo && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"validando-correo\",\n            children: \" (Validando...)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: correoRef,\n          type: \"email\",\n          id: \"correo\",\n          name: \"correo\",\n          value: formData.correo,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Contrase\\xF1a (m\\xEDnimo 6 caracteres)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: passwordRef,\n          type: \"password\",\n          id: \"password\",\n          name: \"password\",\n          value: formData.password,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"confirmPassword\",\n          children: \"Confirmar contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: confirmPasswordRef,\n          type: \"password\",\n          id: \"confirmPassword\",\n          name: \"confirmPassword\",\n          value: formData.confirmPassword,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"discapacidad\",\n          children: \"Tipo de discapacidad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          ref: discapacidadRef,\n          id: \"discapacidad\",\n          name: \"discapacidad\",\n          value: formData.discapacidad,\n          onChange: handleChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Seleccione un tipo de discapacidad visual\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cegueraTotal\",\n            children: \"Ceguera total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"bajaVision\",\n            children: \"Baja visi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"visionBorrosa\",\n            children: \"Visi\\xF3n borrosa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"fotofobia\",\n            children: \"Fotofobia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"descripcion\",\n          children: \"Descripci\\xF3n adicional (opcional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: descripcionRef,\n          id: \"descripcion\",\n          name: \"descripcion\",\n          value: formData.descripcion,\n          onChange: handleChange,\n          rows: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"botones-envio\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-enviar\",\n            onClick: manejarEnvioFormulario,\n            disabled: cargando,\n            children: cargando ? 'Procesando...' : 'Registrarse'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"texto-cuenta\",\n            children: [\"\\xBFYa tienes una cuenta?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-iniciar-sesion\",\n              onClick: () => navigate('/login'),\n              disabled: cargando,\n              children: \"Inicia sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this), mensajeEnviado && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mensaje-exito\",\n          children: \"\\xA1Registro exitoso!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(FormularioDiscapacitados, \"YGjamtoc0WvRq2igzwfroqCUcOg=\", false, function () {\n  return [useNavigate];\n});\n_c = FormularioDiscapacitados;\nexport default FormularioDiscapacitados;\nvar _c;\n$RefreshReg$(_c, \"FormularioDiscapacitados\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","BotonesModoOscuroVolver","verificarCorreo","jsxDEV","_jsxDEV","Fragment","_Fragment","FormularioDiscapacitados","_s","formData","setFormData","nombre","apellido","correo","password","confirmPassword","discapacidad","descripcion","modoOscuro","setModoOscuro","correoExistente","setCorreoExistente","validandoCorreo","setValidandoCorreo","pasoActual","setPasoActual","reconocimientoActivo","setReconocimientoActivo","mensajeEnviado","setMensajeEnviado","repetirTimer","setRepetirTimer","cargando","setCargando","navigate","recognitionRef","nombreRef","apellidoRef","correoRef","passwordRef","confirmPasswordRef","discapacidadRef","descripcionRef","document","body","classList","toggle","window","recognition","webkitSpeechRecognition","lang","continuous","interimResults","onresult","event","results","resultado","transcript","trim","toLowerCase","console","log","manejarResultadoVoz","onerror","error","hablar","current","iniciarPaso","clearTimeout","abort","timer","setTimeout","texto","callback","mensaje","SpeechSynthesisUtterance","onend","iniciarReconocimiento","speechSynthesis","cancel","speak","paso","_apellidoRef$current","_correoRef$current","_passwordRef$current","_discapacidadRef$curr","_descripcionRef$curre","focus","manejarEnvioFormulario","prev","_nombreRef$current","blur","_apellidoRef$current2","correoFormateado","replace","_correoRef$current2","_passwordRef$current2","discapacidadReconocida","find","opcion","includes","_discapacidadRef$curr2","_descripcionRef$curre2","_descripcionRef$curre3","warn","start","handleChange","e","name","value","target","length","res","fetch","method","headers","JSON","stringify","ok","errorData","json","message","err","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","disabled","src","alt","id","hidden","onSubmit","preventDefault","htmlFor","ref","type","onChange","required","rows","_c","$RefreshReg$"],"sources":["E:/Descargas/Nueva carpeta/Proyecto Desarrollo 1 - copia/Frontend/src/formularios/RegistroDiscapacitados.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport BotonesModoOscuroVolver from '../components/BotonesModoOscuroVolver';\nimport { verificarCorreo } from '../utils/verificarCorreo';\nimport '../styles/light.css';\nimport '../styles/dark.css';\n\nfunction FormularioDiscapacitados() {\n  const [formData, setFormData] = useState({\n    nombre: '',\n    apellido: '',\n    correo: '',\n    password: '',\n    confirmPassword: '',\n    discapacidad: '',\n    descripcion: ''\n  });\n\n  const [modoOscuro, setModoOscuro] = useState(false);\n  const [correoExistente, setCorreoExistente] = useState(false);\n  const [validandoCorreo, setValidandoCorreo] = useState(false);\n  const [pasoActual, setPasoActual] = useState('inicio');\n  const [reconocimientoActivo, setReconocimientoActivo] = useState(false);\n  const [mensajeEnviado, setMensajeEnviado] = useState(false);\n  const [repetirTimer, setRepetirTimer] = useState(null);\n  const [cargando, setCargando] = useState(false);\n  const navigate = useNavigate();\n  const recognitionRef = useRef(null);\n\n  const nombreRef = useRef(null);\n  const apellidoRef = useRef(null);\n  const correoRef = useRef(null);\n  const passwordRef = useRef(null);\n  const confirmPasswordRef = useRef(null);\n  const discapacidadRef = useRef(null);\n  const descripcionRef = useRef(null);\n\n  useEffect(() => {\n    document.body.classList.toggle('dark', modoOscuro);\n\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.lang = 'es-ES';\n      recognition.continuous = false;\n      recognition.interimResults = false;\n\n      recognition.onresult = (event) => {\n        if (!event.results || !event.results[0]) return;\n        const resultado = event.results[0][0].transcript.trim().toLowerCase();\n        console.log(\"Texto reconocido:\", resultado);\n        manejarResultadoVoz(resultado);\n      };\n\n      recognition.onerror = (event) => {\n        console.error('Error en reconocimiento:', event.error);\n        hablar('Hubo un error con el micrófono. Por favor intenta nuevamente.');\n      };\n\n      recognitionRef.current = recognition;\n    }\n\n    iniciarPaso('inicio');\n\n    return () => {\n      if (repetirTimer) clearTimeout(repetirTimer);\n      if (recognitionRef.current) recognitionRef.current.abort();\n    };\n  }, [modoOscuro]);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (formData.correo) {\n        verificarCorreo(formData.correo, setCorreoExistente, setValidandoCorreo);\n      }\n    }, 500);\n    return () => clearTimeout(timer);\n  }, [formData.correo]);\n\n  // Función hablar mejorada\n  const hablar = (texto, callback) => {\n    if (cargando) return;\n\n    // Detener reconocimiento actual y limpiar temporizadores\n    setReconocimientoActivo(false);\n    if (recognitionRef.current) recognitionRef.current.abort();\n    if (repetirTimer) clearTimeout(repetirTimer);\n\n    setCargando(true);\n    const mensaje = new SpeechSynthesisUtterance(texto);\n    mensaje.lang = 'es-ES';\n\n    mensaje.onend = () => {\n      setCargando(false);\n      \n      // Ejecutar callback si existe\n      if (callback) callback();\n\n      // Esperar antes de reactivar el reconocimiento\n      setTimeout(() => {\n        if (pasoActual !== 'registrar') { // Solo activar si no estamos en el último paso\n          setReconocimientoActivo(true);\n          iniciarReconocimiento();\n        }\n      }, 1000);\n\n      // Configurar temporizador para repetir\n      setRepetirTimer(setTimeout(() => {\n        if (reconocimientoActivo && pasoActual !== 'registrar') {\n          hablar(texto, callback);\n        }\n      }, 10000));\n    };\n\n    window.speechSynthesis.cancel();\n    window.speechSynthesis.speak(mensaje);\n  };\n\n  const iniciarPaso = (paso) => {\n    setPasoActual(paso);\n    \n    // Enfocar el campo correspondiente al paso actual\n    switch (paso) {\n      case 'inicio':\n        hablar('Este es el formulario de registro para discapacitados visuales. Por favor, di tu nombre.');\n        break;\n      case 'apellido':\n        hablar('Ahora por favor, di tu apellido.');\n        apellidoRef.current?.focus();\n        break;\n      case 'correo':\n        hablar('Ahora indica tu correo electrónico. Di tu correo reemplazando el arroba por la palabra arroba.');\n        correoRef.current?.focus();\n        break;\n      case 'password':\n        hablar('Ahora indica tu contraseña. Debe tener al menos 6 caracteres.');\n        passwordRef.current?.focus();\n        break;\n      case 'discapacidad':\n        hablar('Por favor, di el tipo de discapacidad visual que tienes. Opciones: ceguera total, baja visión, visión borrosa o fotofobia.');\n        discapacidadRef.current?.focus();\n        break;\n      case 'descripcion':\n        hablar('¿Deseas agregar una descripción adicional? Di no si no es necesario.');\n        descripcionRef.current?.focus();\n        break;\n      case 'registrar':\n        hablar('Registrando tu información.');\n        manejarEnvioFormulario();\n        break;\n      default:\n        break;\n    }\n  };\n\n  const manejarResultadoVoz = (resultado) => {\n    // Verificar si el reconocimiento está activo para evitar procesamiento duplicado\n    if (!reconocimientoActivo) return;\n\n    console.log(\"Procesando resultado:\", resultado);\n    \n    switch (pasoActual) {\n      case 'inicio':\n        setFormData(prev => ({ ...prev, nombre: resultado }));\n        // Usar setTimeout para dar tiempo al DOM a actualizarse\n        setTimeout(() => {\n          nombreRef.current?.blur(); // Quitar foco del campo actual\n          iniciarPaso('apellido');\n        }, 300);\n        break;\n\n      case 'apellido':\n        setFormData(prev => ({ ...prev, apellido: resultado }));\n        setTimeout(() => {\n          apellidoRef.current?.blur();\n          iniciarPaso('correo');\n        }, 300);\n        break;\n\n      case 'correo':\n        const correoFormateado = resultado.replace(/arroba|aroba|arrova/gi, '@')\n                                          .replace(/\\s/g, '')\n                                          .toLowerCase();\n        setFormData(prev => ({ ...prev, correo: correoFormateado }));\n        setTimeout(() => {\n          correoRef.current?.blur();\n          iniciarPaso('password');\n        }, 300);\n        break;\n\n      case 'password':\n        setFormData(prev => ({ \n          ...prev, \n          password: resultado,\n          confirmPassword: resultado \n        }));\n        setTimeout(() => {\n          passwordRef.current?.blur();\n          iniciarPaso('discapacidad');\n        }, 300);\n        break;\n\n      case 'discapacidad':\n        const discapacidadReconocida = \n          ['ceguera total', 'baja visión', 'visión borrosa', 'fotofobia']\n            .find(opcion => resultado.includes(opcion.toLowerCase()));\n        \n        if (discapacidadReconocida) {\n          setFormData(prev => ({ \n            ...prev, \n            discapacidad: discapacidadReconocida \n          }));\n          setTimeout(() => {\n            discapacidadRef.current?.blur();\n            iniciarPaso('descripcion');\n          }, 300);\n        } else {\n          hablar('No reconocí ese tipo de discapacidad. Por favor di: ceguera total, baja visión, visión borrosa o fotofobia.');\n          // Volver a intentar con el mismo paso\n          setTimeout(() => iniciarPaso('discapacidad'), 1000);\n        }\n        break;\n\n      case 'descripcion':\n        if (['no', 'ninguna', 'nada', 'omitir', 'saltar'].includes(resultado.toLowerCase())) {\n          setFormData(prev => ({ ...prev, descripcion: '' }));\n          setTimeout(() => {\n            descripcionRef.current?.blur();\n            iniciarPaso('registrar');\n          }, 300);\n        } else {\n          setFormData(prev => ({ ...prev, descripcion: resultado }));\n          setTimeout(() => {\n            descripcionRef.current?.blur();\n            iniciarPaso('registrar');\n          }, 300);\n        }\n        break;\n\n      default:\n        console.warn('Paso no reconocido:', pasoActual);\n        break;\n    }\n  };\n\n    const iniciarReconocimiento = () => {\n    if (cargando || !recognitionRef.current) return;\n\n    try {\n      // Limpiar reconocimiento anterior\n      recognitionRef.current.abort();\n      \n      // Configurar nuevos manejadores\n      recognitionRef.current.onresult = (event) => {\n        if (!event.results || !event.results[0]) return;\n        const resultado = event.results[0][0].transcript.trim().toLowerCase();\n        manejarResultadoVoz(resultado);\n      };\n\n      recognitionRef.current.onerror = (event) => {\n        console.error('Error en reconocimiento:', event.error);\n        if (event.error !== 'aborted') {\n          hablar('Hubo un error con el micrófono. Por favor intenta nuevamente.');\n        }\n      };\n\n      recognitionRef.current.start();\n      console.log(\"Reconocimiento iniciado para paso:\", pasoActual);\n    } catch (error) {\n      console.error(\"Error al iniciar reconocimiento:\", error);\n      if (error !== 'aborted') {\n        hablar(\"Hubo un error con el micrófono. Por favor, intenta nuevamente.\");\n      }\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const manejarEnvioFormulario = async () => {\n    if (correoExistente) {\n      hablar('Este correo ya está registrado. Intenta con otro.', () => iniciarPaso('correo'));\n      return;\n    }\n\n    if (formData.password.length < 6) {\n      hablar('La contraseña debe tener al menos 6 caracteres.', () => iniciarPaso('password'));\n      return;\n    }\n\n    if (formData.password !== formData.confirmPassword) {\n      hablar('Las contraseñas no coinciden.', () => iniciarPaso('password'));\n      return;\n    }\n\n    if (!formData.discapacidad) {\n      hablar('Debes seleccionar un tipo de discapacidad.', () => iniciarPaso('discapacidad'));\n      return;\n    }\n\n    try {\n      const res = await fetch('http://localhost:4000/api/RegistroDiscapacitados', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData)\n      });\n\n      if (res.ok) {\n        setMensajeEnviado(true);\n        hablar('¡Registro exitoso! Serás redirigido al inicio de sesión.', () => navigate('/login'));\n      } else {\n        const errorData = await res.json();\n        hablar(`Error al registrar: ${errorData.message || 'Intenta más tarde'}`);\n      }\n    } catch (err) {\n      console.error('Error:', err);\n      hablar('Ocurrió un error al conectar con el servidor. Intenta más tarde.');\n    }\n  };\n\n  return (\n    <>\n      <BotonesModoOscuroVolver modoOscuro={modoOscuro} setModoOscuro={setModoOscuro} />\n\n      <div className=\"contenedor-microfono\">\n        <button\n          aria-label=\"Activar micrófono para dictar información\"\n          aria-describedby=\"instruccion-mic\"\n          onClick={iniciarReconocimiento}\n          disabled={cargando}\n          className={`boton-microfono ${reconocimientoActivo ? 'activo' : ''}`}>\n          <img\n            src={reconocimientoActivo \n              ? \"https://cdn-icons-png.flaticon.com/512/4712/4712035.png\" \n              : \"https://cdn-icons-png.flaticon.com/512/4712/4712109.png\"}\n            alt={reconocimientoActivo ? \"Micrófono activo\" : \"Micrófono inactivo\"}\n            className=\"icono-microfono\"\n            aria-hidden=\"true\"\n          />\n        </button>\n        <span id=\"instruccion-mic\" hidden>\n          Presiona este botón para activar el micrófono. Luego, sigue las instrucciones habladas.\n        </span>\n        {cargando && <div className=\"cargando-voz\">Procesando...</div>}\n      </div>\n\n      <div className=\"registro-container\">\n        <form onSubmit={e => e.preventDefault()}>\n          <h2>Formulario de Registro</h2>\n\n          <label htmlFor=\"nombre\">Nombre</label>\n          <input \n            ref={nombreRef}\n            type=\"text\" \n            id=\"nombre\" \n            name=\"nombre\" \n            value={formData.nombre} \n            onChange={handleChange} \n            required \n          />\n\n          <label htmlFor=\"apellido\">Apellido</label>\n          <input \n            ref={apellidoRef}\n            type=\"text\" \n            id=\"apellido\" \n            name=\"apellido\" \n            value={formData.apellido} \n            onChange={handleChange} \n            required \n          />\n\n          <label htmlFor=\"correo\">Correo electrónico: \n            {correoExistente && <span className=\"correo-registrado\"> * Este correo ya está registrado</span>}\n            {validandoCorreo && <span className=\"validando-correo\"> (Validando...)</span>}\n          </label>\n          <input \n            ref={correoRef}\n            type=\"email\" \n            id=\"correo\" \n            name=\"correo\" \n            value={formData.correo} \n            onChange={handleChange} \n            required \n          />\n\n          <label htmlFor=\"password\">Contraseña (mínimo 6 caracteres)</label>\n          <input \n            ref={passwordRef}\n            type=\"password\" \n            id=\"password\" \n            name=\"password\" \n            value={formData.password} \n            onChange={handleChange} \n            required \n          />\n\n          <label htmlFor=\"confirmPassword\">Confirmar contraseña</label>\n          <input \n            ref={confirmPasswordRef}\n            type=\"password\" \n            id=\"confirmPassword\" \n            name=\"confirmPassword\" \n            value={formData.confirmPassword} \n            onChange={handleChange} \n            required \n          />\n\n          <label htmlFor=\"discapacidad\">Tipo de discapacidad</label>\n          <select \n            ref={discapacidadRef}\n            id=\"discapacidad\" \n            name=\"discapacidad\" \n            value={formData.discapacidad} \n            onChange={handleChange} \n            required\n          >\n            <option value=\"\">Seleccione un tipo de discapacidad visual</option>\n            <option value=\"cegueraTotal\">Ceguera total</option>\n            <option value=\"bajaVision\">Baja visión</option>\n            <option value=\"visionBorrosa\">Visión borrosa</option>\n            <option value=\"fotofobia\">Fotofobia</option>\n          </select>\n\n          <label htmlFor=\"descripcion\">Descripción adicional (opcional)</label>\n          <textarea \n            ref={descripcionRef}\n            id=\"descripcion\" \n            name=\"descripcion\" \n            value={formData.descripcion} \n            onChange={handleChange} \n            rows=\"4\" \n          />\n\n          <div className=\"botones-envio\">\n            <button \n              type=\"button\" \n              className=\"btn-enviar\" \n              onClick={manejarEnvioFormulario}\n              disabled={cargando}>\n              {cargando ? 'Procesando...' : 'Registrarse'}\n            </button>\n            <div className=\"texto-cuenta\">\n              ¿Ya tienes una cuenta?{' '}\n              <button \n                type=\"button\" \n                className=\"btn-iniciar-sesion\" \n                onClick={() => navigate('/login')}\n                disabled={cargando}>\n                Inicia sesión\n              </button>\n            </div>\n          </div>\n\n          {mensajeEnviado && <p className=\"mensaje-exito\">¡Registro exitoso!</p>}\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default FormularioDiscapacitados;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
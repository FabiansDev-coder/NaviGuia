{"ast":null,"code":"var _jsxFileName = \"E:\\\\Descargas\\\\Nueva carpeta\\\\Proyecto Desarrollo 1 - copia\\\\Frontend\\\\src\\\\formularios\\\\RegistroDiscapacitados.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport BotonesModoOscuroVolver from '../components/BotonesModoOscuroVolver';\nimport { verificarCorreo } from '../utils/verificarCorreo';\nimport '../styles/light.css';\nimport '../styles/dark.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FormularioDiscapacitados() {\n  _s();\n  const [formData, setFormData] = useState({\n    nombre: '',\n    apellido: '',\n    correo: '',\n    discapacidad: '',\n    descripcion: '',\n    password: '',\n    confirmPassword: '',\n    nombreTemp: '',\n    apellidoTemp: '',\n    correoTemp: '',\n    passwordTemp: '',\n    confirmPasswordTemp: \"\"\n  });\n  const [modoOscuro, setModoOscuro] = useState(false);\n  const [correoExistente, setCorreoExistente] = useState(false);\n  const [validandoCorreo, setValidandoCorreo] = useState(false);\n  const [pasoActual, setPasoActual] = useState('inicio');\n  const [reconocimientoActivo, setReconocimientoActivo] = useState(false);\n  const [mensajeEnviado, setMensajeEnviado] = useState(false);\n  const [repetirTimer, setRepetirTimer] = useState(null);\n  const navigate = useNavigate();\n  const recognitionRef = useRef(null);\n  const passwordRef = useRef(null);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    document.body.classList.toggle('dark', modoOscuro);\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.lang = 'es-ES';\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognitionRef.current = recognition;\n      recognition.onresult = manejarResultadoVoz;\n    }\n    iniciarPaso('inicio');\n  }, []);\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (formData.correo) verificarCorreo(formData.correo, setCorreoExistente, setValidandoCorreo);\n    }, 500);\n    return () => clearTimeout(timer);\n  }, [formData.correo]);\n  const hablar = (texto, callback) => {\n    setReconocimientoActivo(false);\n    if (recognitionRef.current) recognitionRef.current.abort();\n    if (repetirTimer) clearTimeout(repetirTimer); // üîÑ Limpiar temporizador anterior\n\n    const mensaje = new SpeechSynthesisUtterance(texto);\n    mensaje.lang = 'es-ES';\n    mensaje.onend = () => {\n      if (callback) callback();\n      iniciarReconocimiento();\n\n      // üîÅ Esperar 10 segundos por respuesta, si no la hay, repetir la instrucci√≥n\n      const timer = setTimeout(() => {\n        if (reconocimientoActivo) {\n          hablar(texto, callback); // ‚è±Ô∏è Repetir la misma instrucci√≥n\n        }\n      }, 10000); // 10 segundos\n\n      setRepetirTimer(timer); // Guardar el nuevo timer\n    };\n    window.speechSynthesis.speak(mensaje);\n  };\n  const iniciarPaso = paso => {\n    setPasoActual(paso);\n    switch (paso) {\n      case 'inicio':\n        hablar('Este es el formulario de registro para discapacitados visuales. Primero ind√≠canos tu nombre.');\n        break;\n      case 'confirmarNombre':\n        hablar(`Tu nombre es: ${formData.nombreTemp}. ¬øEs correcto? Di s√≠ o no.`);\n        break;\n      case 'apellido':\n        hablar('Ahora indica tu apellido.');\n        break;\n      case 'confirmarApellido':\n        hablar(`Tu apellido es: ${formData.apellidoTemp}. ¬øEs correcto? Di s√≠ o no.`);\n        break;\n      case 'correo':\n        hablar('Ahora indica tu correo electr√≥nico.');\n        break;\n      case 'confirmarCorreo':\n        hablar(`Tu correo es: ${formData.correoTemp}. ¬øEs correcto? Di s√≠ o no.`);\n        break;\n      case 'password':\n        hablar('Ahora indica tu contrase√±a. Solo se registrar√° si es segura.');\n        break;\n      case 'confirmarPassword':\n        hablar('¬øConfirmas esta contrase√±a? Di s√≠ o no.');\n        break;\n      case 'confirmpassword':\n        hablar('Ahora indica la repetici√≥n de tu contrase√±a. Solo se registrar√° si es igual a la contrase√±a ingresada anterior.');\n        break;\n      case 'confirmarPasswordTemp':\n        hablar('¬øConfirmas la repetici√≥n de tu contrase√±a? Di s√≠ o no.');\n        break;\n      case 'registrar':\n        manejarEnvioFormulario();\n        break;\n      default:\n        break;\n    }\n  };\n  const manejarResultadoVoz = e => {\n    const resultado = e.results[0][0].transcript.trim().toLowerCase();\n    if (!reconocimientoActivo) return;\n    const esSi = resultado === 's√≠' || resultado === 'si';\n    const esNo = resultado === 'no';\n    switch (pasoActual) {\n      case 'inicio':\n        setFormData(prev => ({\n          ...prev,\n          nombreTemp: resultado\n        }));\n        iniciarPaso('confirmarNombre');\n        break;\n      case 'confirmarNombre':\n        if (esSi) {\n          setFormData(prev => ({\n            ...prev,\n            nombre: prev.nombreTemp\n          }));\n          iniciarPaso('apellido');\n        } else if (esNo) {\n          iniciarPaso('inicio');\n        } else {\n          hablar(`Tu nombre es: ${formData.nombreTemp}. ¬øEs correcto? Di s√≠ o no.`, () => setReconocimientoActivo(true));\n        }\n        break;\n      case 'apellido':\n        setFormData(prev => ({\n          ...prev,\n          apellidoTemp: resultado\n        }));\n        iniciarPaso('confirmarApellido');\n        break;\n      case 'confirmarApellido':\n        if (esSi) {\n          setFormData(prev => ({\n            ...prev,\n            apellido: prev.apellidoTemp\n          }));\n          iniciarPaso('correo');\n        } else if (esNo) {\n          iniciarPaso('apellido');\n        } else {\n          hablar(`Tu apellido es: ${formData.apellidoTemp}. ¬øEs correcto? Di s√≠ o no.`, () => setReconocimientoActivo(true));\n        }\n        break;\n      case 'correo':\n        const correoLimpiado = resultado.replace(' arroba ', '@').replace(/\\s/g, '');\n        setFormData(prev => ({\n          ...prev,\n          correoTemp: correoLimpiado\n        }));\n        iniciarPaso('confirmarCorreo');\n        break;\n      case 'confirmarCorreo':\n        if (esSi) {\n          setFormData(prev => ({\n            ...prev,\n            correo: prev.correoTemp\n          }));\n          iniciarPaso('password');\n        } else if (esNo) {\n          iniciarPaso('correo');\n        } else {\n          hablar(`Tu correo es: ${formData.correoTemp}. ¬øEs correcto? Di s√≠ o no.`, () => setReconocimientoActivo(true));\n        }\n        break;\n      case 'password':\n        setFormData(prev => ({\n          ...prev,\n          passwordTemp: resultado\n        }));\n        iniciarPaso('confirmarPassword');\n        break;\n      case 'confirmarPassword':\n        if (esSi) {\n          setFormData(prev => ({\n            ...prev,\n            password: prev.passwordTemp,\n            confirmPassword: prev.passwordTemp\n          }));\n          iniciarPaso('registrar');\n        } else if (esNo) {\n          iniciarPaso('password');\n        } else {\n          hablar('¬øConfirmas esta contrase√±a? Di s√≠ o no.', () => setReconocimientoActivo(true));\n        }\n        break;\n      default:\n        break;\n      case 'confirmPassword':\n        if (esSi) {\n          iniciarPaso('passwordTemp');\n        } else if (esNo) {\n          iniciarPaso('password');\n        } else {\n          hablar('¬øConfirmas esta contrase√±a? Di s√≠ o no.', () => setReconocimientoActivo(true));\n        }\n        break;\n      case 'passwordTemp':\n        setFormData(prev => ({\n          ...prev,\n          confirmPasswordTemp: resultado\n        }));\n        iniciarPaso('confirmarPasswordTemp');\n        break;\n      case 'confirmarPasswordTemp':\n        if (esSi) {\n          // Validaci√≥n final: contrase√±as deben coincidir\n          if (formData.passwordTemp === formData.confirmPasswordTemp) {\n            setFormData(prev => ({\n              ...prev,\n              password: prev.passwordTemp,\n              confirmPassword: prev.confirmPasswordTemp\n            }));\n            iniciarPaso('registrar');\n          } else {\n            hablar('Las contrase√±as no coinciden. Vamos a intentarlo de nuevo.', () => iniciarPaso('password'));\n          }\n        } else if (esNo) {\n          iniciarPaso('passwordTemp');\n        } else {\n          hablar('¬øConfirmas la repetici√≥n de tu contrase√±a? Di s√≠ o no.', () => setReconocimientoActivo(true));\n        }\n        break;\n    }\n  };\n  const iniciarReconocimiento = () => {\n    const recognition = recognitionRef.current;\n    if (!recognition) return;\n    try {\n      recognition.stop(); // ‚õî Siempre detener antes de iniciar\n      recognition.start();\n    } catch (error) {\n      console.warn(\"Reconocimiento ya activo o no disponible:\", error.message);\n    }\n  };\n  const handleChange = e => {\n    setFormData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const manejarEnvioFormulario = async () => {\n    if (correoExistente) return hablar('Este correo ya est√° registrado. Intenta con otro.', null);\n    try {\n      const res = await fetch('http://localhost:4000/api/RegistroDiscapacitados', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      if (res.ok) {\n        setMensajeEnviado(true);\n        hablar('¬°Registro exitoso! Te diriges a inicio de sesi√≥n.', () => navigate('/login'));\n      } else {\n        hablar('Error al registrar. Intenta m√°s tarde.', null);\n      }\n    } catch (err) {\n      console.error('Error:', err);\n      hablar('Ocurri√≥ un error al registrar.', null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(BotonesModoOscuroVolver, {\n      modoOscuro: modoOscuro,\n      setModoOscuro: setModoOscuro\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contenedor-microfono\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-label\": \"Activar micr\\xF3fono para dictar informaci\\xF3n\",\n        \"aria-describedby\": \"instruccion-mic\",\n        onClick: iniciarReconocimiento,\n        className: \"boton-microfono\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://cdn-icons-png.flaticon.com/512/4712/4712109.png\",\n          alt: \"\\xCDcono de micr\\xF3fono\",\n          className: \"icono-microfono\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        id: \"instruccion-mic\",\n        hidden: true,\n        children: \"Presiona este bot\\xF3n para activar el micr\\xF3fono. Luego, sigue las instrucciones habladas.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"registro-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Formulario de Registro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"nombre\",\n          children: \"Nombre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"nombre\",\n          name: \"nombre\",\n          value: formData.nombre,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"apellido\",\n          children: \"Apellido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"apellido\",\n          name: \"apellido\",\n          value: formData.apellido,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"correo\",\n          children: [\"Correo electr\\xF3nico: \", correoExistente && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"correo-registrado\",\n            children: \"* Este correo ya est\\xE1 registrado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), validandoCorreo && /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 45\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"correo\",\n          name: \"correo\",\n          value: formData.correo,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: passwordRef,\n          type: \"password\",\n          id: \"password\",\n          name: \"password\",\n          value: formData.password,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"confirmPassword\",\n          children: \"Confirmar contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"confirmPassword\",\n          name: \"confirmPassword\",\n          value: formData.confirmPassword,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"discapacidad\",\n          children: \"Tipo de discapacidad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"discapacidad\",\n          name: \"discapacidad\",\n          value: formData.discapacidad,\n          onChange: handleChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Seleccione un tipo de discapacidad visual\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cegueraTotal\",\n            children: \"Ceguera total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"bajaVision\",\n            children: \"Baja visi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"visionBorrosa\",\n            children: \"Visi\\xF3n borrosa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"fotofobia\",\n            children: \"Fotofobia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"descripcion\",\n          children: \"Descripci\\xF3n adicional (opcional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"descripcion\",\n          name: \"descripcion\",\n          value: formData.descripcion,\n          onChange: handleChange,\n          rows: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"botones-envio\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-enviar\",\n            onClick: manejarEnvioFormulario,\n            children: \"Registrarse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"texto-cuenta\",\n            children: [\"\\xBFYa tienes una cuenta?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-iniciar-sesion\",\n              onClick: () => window.location.href = \"/login\",\n              children: \"Inicia sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), mensajeEnviado && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mensaje-exito\",\n          children: \"\\xA1Has sido registrado correctamente!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(FormularioDiscapacitados, \"mrdUXR6II1bIaLp0D07I/M8TDlY=\", false, function () {\n  return [useNavigate];\n});\n_c = FormularioDiscapacitados;\nexport default FormularioDiscapacitados;\nvar _c;\n$RefreshReg$(_c, \"FormularioDiscapacitados\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","BotonesModoOscuroVolver","verificarCorreo","jsxDEV","_jsxDEV","Fragment","_Fragment","FormularioDiscapacitados","_s","formData","setFormData","nombre","apellido","correo","discapacidad","descripcion","password","confirmPassword","nombreTemp","apellidoTemp","correoTemp","passwordTemp","confirmPasswordTemp","modoOscuro","setModoOscuro","correoExistente","setCorreoExistente","validandoCorreo","setValidandoCorreo","pasoActual","setPasoActual","reconocimientoActivo","setReconocimientoActivo","mensajeEnviado","setMensajeEnviado","repetirTimer","setRepetirTimer","navigate","recognitionRef","passwordRef","document","body","classList","toggle","window","recognition","webkitSpeechRecognition","lang","continuous","interimResults","current","onresult","manejarResultadoVoz","iniciarPaso","timer","setTimeout","clearTimeout","hablar","texto","callback","abort","mensaje","SpeechSynthesisUtterance","onend","iniciarReconocimiento","speechSynthesis","speak","paso","manejarEnvioFormulario","e","resultado","results","transcript","trim","toLowerCase","esSi","esNo","prev","correoLimpiado","replace","stop","start","error","console","warn","message","handleChange","target","name","value","res","fetch","method","headers","JSON","stringify","ok","err","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","src","alt","id","hidden","onSubmit","preventDefault","htmlFor","type","onChange","required","ref","rows","location","href","_c","$RefreshReg$"],"sources":["E:/Descargas/Nueva carpeta/Proyecto Desarrollo 1 - copia/Frontend/src/formularios/RegistroDiscapacitados.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport BotonesModoOscuroVolver from '../components/BotonesModoOscuroVolver';\nimport { verificarCorreo } from '../utils/verificarCorreo';\nimport '../styles/light.css';\nimport '../styles/dark.css';\n\nfunction FormularioDiscapacitados() {\n  const [formData, setFormData] = useState({\n    nombre: '', apellido: '', correo: '',\n    discapacidad: '', descripcion: '',\n    password: '', confirmPassword: '',\n    nombreTemp: '', apellidoTemp: '', correoTemp: '', passwordTemp: '',confirmPasswordTemp:\"\"\n  });\n\n  const [modoOscuro, setModoOscuro] = useState(false);\n  const [correoExistente, setCorreoExistente] = useState(false);\n  const [validandoCorreo, setValidandoCorreo] = useState(false);\n  const [pasoActual, setPasoActual] = useState('inicio');\n  const [reconocimientoActivo, setReconocimientoActivo] = useState(false);\n  const [mensajeEnviado, setMensajeEnviado] = useState(false);\n  const [repetirTimer, setRepetirTimer] = useState(null);\n  const navigate = useNavigate();\n  const recognitionRef = useRef(null);\n  const passwordRef = useRef(null);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => {\n      document.body.classList.toggle('dark', modoOscuro);\n\n      if ('webkitSpeechRecognition' in window) {\n        const recognition = new window.webkitSpeechRecognition();\n        recognition.lang = 'es-ES';\n        recognition.continuous = false;\n        recognition.interimResults = false;\n        recognitionRef.current = recognition;\n        recognition.onresult = manejarResultadoVoz;\n      }\n\n      iniciarPaso('inicio');\n    }, []);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (formData.correo) verificarCorreo(formData.correo, setCorreoExistente, setValidandoCorreo);\n    }, 500);\n    return () => clearTimeout(timer);\n  }, [formData.correo]);\n\n  const hablar = (texto, callback) => {\n    setReconocimientoActivo(false);\n    if (recognitionRef.current) recognitionRef.current.abort();\n\n    if (repetirTimer) clearTimeout(repetirTimer); // üîÑ Limpiar temporizador anterior\n\n    const mensaje = new SpeechSynthesisUtterance(texto);\n    mensaje.lang = 'es-ES';\n\n    mensaje.onend = () => {\n      if (callback) callback();\n      iniciarReconocimiento();\n\n      // üîÅ Esperar 10 segundos por respuesta, si no la hay, repetir la instrucci√≥n\n      const timer = setTimeout(() => {\n        if (reconocimientoActivo) {\n          hablar(texto, callback); // ‚è±Ô∏è Repetir la misma instrucci√≥n\n        }\n      }, 10000); // 10 segundos\n\n      setRepetirTimer(timer); // Guardar el nuevo timer\n    };\n\n    window.speechSynthesis.speak(mensaje);\n  };\n\n const iniciarPaso = paso => {\n    setPasoActual(paso);\n    switch (paso) {\n      case 'inicio':\n        hablar('Este es el formulario de registro para discapacitados visuales. Primero ind√≠canos tu nombre.');\n        break;\n      case 'confirmarNombre':\n        hablar(`Tu nombre es: ${formData.nombreTemp}. ¬øEs correcto? Di s√≠ o no.`);\n        break;\n      case 'apellido':\n        hablar('Ahora indica tu apellido.');\n        break;\n      case 'confirmarApellido':\n        hablar(`Tu apellido es: ${formData.apellidoTemp}. ¬øEs correcto? Di s√≠ o no.`);\n        break;\n      case 'correo':\n        hablar('Ahora indica tu correo electr√≥nico.');\n        break;\n      case 'confirmarCorreo':\n        hablar(`Tu correo es: ${formData.correoTemp}. ¬øEs correcto? Di s√≠ o no.`);\n        break;\n      case 'password':\n        hablar('Ahora indica tu contrase√±a. Solo se registrar√° si es segura.');\n        break;\n      case 'confirmarPassword':\n        hablar('¬øConfirmas esta contrase√±a? Di s√≠ o no.');\n        break;\n      case 'confirmpassword':\n        hablar('Ahora indica la repetici√≥n de tu contrase√±a. Solo se registrar√° si es igual a la contrase√±a ingresada anterior.');\n        break;\n      case 'confirmarPasswordTemp':\n        hablar('¬øConfirmas la repetici√≥n de tu contrase√±a? Di s√≠ o no.');\n        break;\n      case 'registrar':\n        manejarEnvioFormulario();\n        break;\n      default:\n        break;\n    }\n  };\n\n  const manejarResultadoVoz = (e) => {\n    const resultado = e.results[0][0].transcript.trim().toLowerCase();\n    if (!reconocimientoActivo) return;\n\n    const esSi = resultado === 's√≠' || resultado === 'si';\n    const esNo = resultado === 'no';\n\n    switch (pasoActual) {\n      case 'inicio':\n        setFormData(prev => ({ ...prev, nombreTemp: resultado }));\n        iniciarPaso('confirmarNombre');\n        break;\n\n      case 'confirmarNombre':\n        if (esSi) {\n          setFormData(prev => ({ ...prev, nombre: prev.nombreTemp }));\n          iniciarPaso('apellido');\n        } else if (esNo) {\n          iniciarPaso('inicio');\n        } else {\n          hablar(`Tu nombre es: ${formData.nombreTemp}. ¬øEs correcto? Di s√≠ o no.`, () => setReconocimientoActivo(true));\n        }\n        break;\n\n      case 'apellido':\n        setFormData(prev => ({ ...prev, apellidoTemp: resultado }));\n        iniciarPaso('confirmarApellido');\n        break;\n\n      case 'confirmarApellido':\n        if (esSi) {\n          setFormData(prev => ({ ...prev, apellido: prev.apellidoTemp }));\n          iniciarPaso('correo');\n        } else if (esNo) {\n          iniciarPaso('apellido');\n        } else {\n          hablar(`Tu apellido es: ${formData.apellidoTemp}. ¬øEs correcto? Di s√≠ o no.`, () => setReconocimientoActivo(true));\n        }\n        break;\n\n      case 'correo':\n        const correoLimpiado = resultado.replace(' arroba ', '@').replace(/\\s/g, '');\n        setFormData(prev => ({ ...prev, correoTemp: correoLimpiado }));\n        iniciarPaso('confirmarCorreo');\n        break;\n\n      case 'confirmarCorreo':\n        if (esSi) {\n          setFormData(prev => ({ ...prev, correo: prev.correoTemp }));\n          iniciarPaso('password');\n        } else if (esNo) {\n          iniciarPaso('correo');\n        } else {\n          hablar(`Tu correo es: ${formData.correoTemp}. ¬øEs correcto? Di s√≠ o no.`, () => setReconocimientoActivo(true));\n        }\n        break;\n\n      case 'password':\n        setFormData(prev => ({ ...prev, passwordTemp: resultado }));\n        iniciarPaso('confirmarPassword');\n        break;\n\n      case 'confirmarPassword':\n        if (esSi) {\n          setFormData(prev => ({\n            ...prev,\n            password: prev.passwordTemp,\n            confirmPassword: prev.passwordTemp\n          }));\n          iniciarPaso('registrar');\n        } else if (esNo) {\n          iniciarPaso('password');\n        } else {\n          hablar('¬øConfirmas esta contrase√±a? Di s√≠ o no.', () => setReconocimientoActivo(true));\n        }\n        break;\n\n      default:\n        break;\n\n      case 'confirmPassword':\n        if (esSi) {\n          iniciarPaso('passwordTemp');\n        } else if (esNo) {\n          iniciarPaso('password');\n        } else {\n          hablar('¬øConfirmas esta contrase√±a? Di s√≠ o no.', () => setReconocimientoActivo(true));\n        }\n        break;\n\n      case 'passwordTemp':\n        setFormData(prev => ({ ...prev, confirmPasswordTemp: resultado }));\n        iniciarPaso('confirmarPasswordTemp');\n        break;\n\n      case 'confirmarPasswordTemp':\n        if (esSi) {\n          // Validaci√≥n final: contrase√±as deben coincidir\n          if (formData.passwordTemp === formData.confirmPasswordTemp) {\n            setFormData(prev => ({\n              ...prev,\n              password: prev.passwordTemp,\n              confirmPassword: prev.confirmPasswordTemp\n            }));\n            iniciarPaso('registrar');\n          } else {\n            hablar('Las contrase√±as no coinciden. Vamos a intentarlo de nuevo.', () => iniciarPaso('password'));\n          }\n        } else if (esNo) {\n          iniciarPaso('passwordTemp');\n        } else {\n          hablar('¬øConfirmas la repetici√≥n de tu contrase√±a? Di s√≠ o no.', () => setReconocimientoActivo(true));\n        }\n        break;\n          }\n  };\n\n  const iniciarReconocimiento = () => {\n    const recognition = recognitionRef.current;\n    if (!recognition) return;\n\n    try {\n      recognition.stop(); // ‚õî Siempre detener antes de iniciar\n      recognition.start();\n    } catch (error) {\n      console.warn(\"Reconocimiento ya activo o no disponible:\", error.message);\n    }\n  };\n\n\n  const handleChange = e => {\n    setFormData(prev => ({ ...prev, [e.target.name]: e.target.value }));\n  };\n\n  const manejarEnvioFormulario = async () => {\n    if (correoExistente) return hablar('Este correo ya est√° registrado. Intenta con otro.', null);\n    try {\n      const res = await fetch('http://localhost:4000/api/RegistroDiscapacitados', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData)\n      });\n      if (res.ok) {\n        setMensajeEnviado(true);\n        hablar('¬°Registro exitoso! Te diriges a inicio de sesi√≥n.', () => navigate('/login'));\n      } else {\n        hablar('Error al registrar. Intenta m√°s tarde.', null);\n      }\n    } catch (err) {\n      console.error('Error:', err);\n      hablar('Ocurri√≥ un error al registrar.', null);\n    }\n  };\n\n  return (\n    <>\n      <BotonesModoOscuroVolver modoOscuro={modoOscuro} setModoOscuro={setModoOscuro} />\n\n      <div className=\"contenedor-microfono\">\n        <button\n          aria-label=\"Activar micr√≥fono para dictar informaci√≥n\"\n          aria-describedby=\"instruccion-mic\"\n          onClick={iniciarReconocimiento}\n          className=\"boton-microfono\">\n          <img\n            src=\"https://cdn-icons-png.flaticon.com/512/4712/4712109.png\"\n            alt=\"√çcono de micr√≥fono\"\n            className=\"icono-microfono\"\n            aria-hidden=\"true\"\n          />\n        </button>\n        <span id=\"instruccion-mic\" hidden>\n          Presiona este bot√≥n para activar el micr√≥fono. Luego, sigue las instrucciones habladas.\n        </span>\n      </div>\n\n      <div className=\"registro-container\">\n        <form onSubmit={e => e.preventDefault()}>\n          <h2>Formulario de Registro</h2>\n\n          <label htmlFor=\"nombre\">Nombre</label>\n          <input type=\"text\" id=\"nombre\" name=\"nombre\" value={formData.nombre} onChange={handleChange} required />\n\n          <label htmlFor=\"apellido\">Apellido</label>\n          <input type=\"text\" id=\"apellido\" name=\"apellido\" value={formData.apellido} onChange={handleChange} required />\n\n          <label htmlFor=\"correo\">Correo electr√≥nico: {correoExistente && (\n            <span className =\"correo-registrado\">\n              * Este correo ya est√° registrado\n              </span>)}{validandoCorreo && (<span>\n            </span>\n          )}</label>\n          <input type=\"email\" id=\"correo\" name=\"correo\" value={formData.correo} onChange={handleChange} required />\n\n          <label htmlFor=\"password\">Contrase√±a</label>\n          <input ref={passwordRef} type=\"password\" id=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\n\n          <label htmlFor=\"confirmPassword\">Confirmar contrase√±a</label>\n          <input type=\"password\" id=\"confirmPassword\" name=\"confirmPassword\" value={formData.confirmPassword} onChange={handleChange} required />\n\n          <label htmlFor=\"discapacidad\">Tipo de discapacidad</label>\n          <select id=\"discapacidad\" name=\"discapacidad\" value={formData.discapacidad} onChange={handleChange} required>\n            <option value=\"\">Seleccione un tipo de discapacidad visual</option>\n            <option value=\"cegueraTotal\">Ceguera total</option>\n            <option value=\"bajaVision\">Baja visi√≥n</option>\n            <option value=\"visionBorrosa\">Visi√≥n borrosa</option>\n            <option value=\"fotofobia\">Fotofobia</option>\n          </select>\n\n          <label htmlFor=\"descripcion\">Descripci√≥n adicional (opcional)</label>\n          <textarea id=\"descripcion\" name=\"descripcion\" value={formData.descripcion} onChange={handleChange} rows=\"4\" />\n\n          <div className=\"botones-envio\">\n            <button type=\"button\" className=\"btn-enviar\" onClick={manejarEnvioFormulario}>Registrarse</button>\n            <div className=\"texto-cuenta\">\n              ¬øYa tienes una cuenta?{' '}\n              <button type=\"button\" className=\"btn-iniciar-sesion\" onClick={() => window.location.href = \"/login\"}>\n                Inicia sesi√≥n\n              </button>\n            </div>\n          </div>\n\n          {mensajeEnviado && <p className=\"mensaje-exito\">¬°Has sido registrado correctamente!</p>}\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default FormularioDiscapacitados;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}